import{S as A,P as H,W as I,B as T,M as P,a as f,C as S,A as _,b as F,G as x,c as C,T as N,d as O}from"./three.module-aqEX2t9A.js";import{O as U}from"./OrbitControls-CRTFOd_3.js";import{d as q,b as V,o as D,c as J,a as g,u as L}from"./index-Dod1TsIU.js";function M(){new URLSearchParams(new URL(window.location.href).search.slice(1)).get("coord");const p=document.getElementById("three-container-earth");if(!p){alert("F");return}const n=p;n.offsetWidth,n.offsetWidth;const o=new A,i=new H(7,window.innerWidth/window.innerHeight,1,100),a=new I,w=new U(i,a.domElement),W=new T,z=new P({color:65280,wireframe:!0}),B=new f(W,z);o.add(B),n?n.appendChild(a.domElement):(confirm("No container found"),document.body.appendChild(a.domElement)),window.addEventListener("resize",v,!1);function v(){const e=n.offsetWidth,t=n.offsetWidth,s=e/t;i.aspect=s,i.updateProjectionMatrix(),a.setSize(e,t),b()}function k(e,t,s){const r=(90-e)*(Math.PI/180),d=(t+180)*(Math.PI/180),m=-(s*Math.sin(r)*Math.cos(d)),l=s*Math.sin(r)*Math.sin(d),c=s*Math.cos(r);return console.log([m,c,l]),[m,c,l]}function G(){const e=[];for(let t=0;t<10;t++){const s=new C(.025,20,20),r=new P({color:new S("white")}),d=new f(s,r);e.push(d)}return e}function j(){i.position.z=10,o.background=new S(61695),o.add(i),o.add(new _(15790320));const e=new F(16777215,1.5);e.position.set(0,10,0),e.angle=Math.PI*.2,e.castShadow=!0,e.shadow.camera.near=20,e.shadow.camera.far=50,e.shadow.bias=-.222,e.shadow.mapSize.width=10,e.shadow.mapSize.height=10,o.add(e);let t=new x(2e3,1e3);t.position.y=-20,t.material.opacity=.7,t.material.transparent=!1,o.add(t),t=new x(2e3,500),t.position.y=20,t.material.opacity=1,t.material.transparent=!0,o.add(t),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth*.8,window.innerHeight*.8),a.shadowMap.enabled=!0,w.target.set(0,0,0),w.update();const s=new C(.5,32,32),r=new N,d=new O({map:r.load("./img/map/night.jpg"),bumpMap:r.load("./img/map/bump.jpg"),specularMap:r.load("./img/map/spekular.jpg")}),m=new f(s,d);o.add(m);const l=[[40.71427,-74.00597],[52.52437,13.41053]],c=G();for(let h=0;h<c.length;h++){o.add(c[h]);const E=l[Math.floor(Math.random()*l.length)],u=k(E[0],E[1],.5);c[h].position.set(u[0],u[1],u[2])}n?n.appendChild(a.domElement):(confirm("No container found"),document.body.appendChild(a.domElement))}function b(){a.render(o,i)}function y(){requestAnimationFrame(y),w.update(),b()}j(),y()}const K={class:"greetings"},Z=q({__name:"Earth",setup(R){return V(()=>{M()}),(p,n)=>(D(),J("div",K,[n[1]||(n[1]=g("h3",null,"Three EARTH",-1)),g("button",{onClick:n[0]||(n[0]=(...o)=>L(M)&&L(M)(...o)),class:"bg-amber-300 hover:bg-amber-700"}," animate "),n[2]||(n[2]=g("div",{class:"w-full",id:"three-container-earth"},null,-1))]))}});export{Z as default};
